<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
    <title>Wave JavaScript client example</title>

    <!--                                           -->
    <!-- This script loads your compiled module.   -->
    <!-- If you add any GWT meta tags, they must   -->
    <!-- be added before this line.                -->
    <!--                                           -->
<script type="text/javascript" src="../wavejs/wavejs.nocache.js"></script>
 <script type="text/javascript">

   function onWaveJSReady() {

     WaveJS.startSession("http://localhost:9898", "tim", "tim",
            function(sessionid) {
              alert("Login succesfull! session is "+sessionid);


              WaveJS.openChat("local.net/sc.chat+h6M8tViD4zC",
                       function(chatjs) {
                            alert("Wave opened succesfully!");
                            WaveJS.chat = chatjs;
                            chatjs.registerEventHandler("onMessageAdded", function(text) {
                              alert("Text received: "+text);
                            });

                        },
                         function(error) {
                          alert("Wave open failure! "+error);
                        });


            },function(error) {
              alert("Login failed! "+error);
            });





   };

 </script>
</head>
<body>

 <h2>Wave JS client example</h2>






</body>
</html>